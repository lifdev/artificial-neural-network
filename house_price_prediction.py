# -*- coding: utf-8 -*-
"""house_price_prediction.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1u7-gPSbdgNrBT59TMpaWI1OwJAlInN_A
"""

import tensorflow as tf
import pandas as pd
import numpy as np

pd.read_csv('data.csv')

data_csv = pd.read_csv("data.csv")

bedrooms = data_csv["bedrooms"]
bathrooms = data_csv["bathrooms"]
luas = data_csv["sqft_living"]
floor = data_csv["floors"]
price = data_csv["price"]

rumah_all = []

for index in range(len(bedrooms)):
  rumah = []
  rumah.append(bedrooms[index])
  rumah.append(bathrooms[index])
  rumah.append(luas[index])
  rumah.append(floor[index])

  rumah_all.append(rumah)

print(rumah_all)
rumah_all = np.array(rumah_all)
price = np.array(price)

model = tf.keras.Sequential([
    tf.keras.layers.Dense(units=1, input_shape=[4]),

])

model.compile(
    loss='mae',
    optimizer='sgd',
    metrics=['accuracy']
)

model.fit(
    rumah_all, price, epochs=100
)

kamar_tidur = int(input("Masukkan jumlah kamar tidur: "))
kamar_mandi = int(input("Masukkan jumlah kamar mandi: "))
luas = int(input("Masukkan luas rumah: "))
lantai = int(input("Masukkan jumlah lantai: "))

input_data = np.array([[kamar_tidur, kamar_mandi, luas, lantai]])

prediksi_harga = model.predict(input_data)
print("Rumah impian anda harganya {} USD".format(prediksi_harga[0][0]))